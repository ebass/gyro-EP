%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S u m m a r y   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Compilation
-----------
File     : /global/u2/b/bassem/gyro-EP/src/gyro_nl_setup.f90
Compiled : 01/19/21  15:35:44
Compiler : Version 9.1.0
Ftnlx    : Version 9.1.0 
Target   : x86-64
Command  : ftn_driver.exe -hcpu=haswell -hdynamic -D__CRAYXC -D__CRAY_HASWELL
           -D__CRAYXT_COMPUTE_LINUX_TARGET -hnetwork=aries -hnoomp -em
           -J/global/homes/b/bassem/gyro-EP/modules -sreal64 -eD -Ktrap=fp -m1
           -Rbcdps -G0 -I/opt/cray/pe/fftw/3.3.8.4/haswell/include
           -c gyro_nl_setup.f90
           -I/opt/cray/pe/cce/9.1.0/cce-clang/x86_64/lib/clang/9.0.0/include
           -I/opt/cray/pe/cce/9.1.0/cce/x86_64/include/craylibs -I/usr/include
           -I/usr/include -I/opt/cray/pe/fftw/3.3.8.4/haswell/include
           -I/opt/cray/pe/libsci/19.06.1/CRAY/9.0/x86_64/include
           -I/opt/cray/pe/mpt/7.7.10/gni/mpich-cray/9.0/include
           -I/opt/cray/pe/hdf5/1.10.5.2/cray/9.0/include
           -I/opt/cray/pe/netcdf/4.6.3.2/cray/9.0/include
           -I/opt/cray/rca/2.2.20-7.0.1.1_4.53__g8e3fb5b.ari/include
           -I/opt/cray/alps/6.6.58-7.0.1.1_6.10__g437d88db.ari/include
           -I/opt/cray/xpmem/2.2.20-7.0.1.1_4.14__g0475745.ari/include
           -I/opt/cray/gni-headers/5.0.12.0-7.0.1.1_6.32__g3b1768f.ari/include
           -I/opt/cray/dmapp/7.1.1-7.0.1.1_4.54__g38cf134.ari/include
           -I/opt/cray/pe/pmi/5.0.14/include
           -I/opt/cray/ugni/6.0.14.0-7.0.1.1_7.40__ge78e5b0.ari/include
           -I/opt/cray/udreg/2.3.2-7.0.1.1_3.38__g8175d3d.ari/include
           -I/opt/cray/wlm_detect/1.3.3-7.0.1.1_4.16__g7109084.ari/include
           -I/opt/cray/krca/2.2.6-7.0.1.1_5.39__gb641b12.ari/include
           -I/opt/cray-hss-devel/9.0.0/include
Program
  Units  : GYRO_NL_SETUP

ftnlx report
------------
Source   : /global/u2/b/bassem/gyro-EP/src/gyro_nl_setup.f90
Date     : 01/19/2021  15:35:45


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    1.    !-----------------------------------------------------
    2.    ! gyro_nl_setup.fftw3.f90
    3.    !
    4.    ! PURPOSE:
    5.    !  Allocate (and define) selected arrays for 
    6.    !  use with direct and FFT methods.
    7.    !
    8.    ! NOTES:
    9.    ! FFTW3 routine.  
   10.    !-------------------------------------------------------
   11.    
   12.    subroutine gyro_nl_setup
   13.    
   14.      use gyro_globals
   15.      use gyro_nl_private
   16.      use ompdata
   17.    
   18.      !------------------------------------
   19.      implicit none
   20.      !------------------------------------
   21.    
   22.      include 'fftw3.f'
   23.      integer :: ierr
   24.    
   25.      !----------------------------------------------------
   26.      do nn=-n_max,n_max
   27.         i_p(nn) = abs(nn)+1
   28.         if (nn < 0) then 
   29.            n_p(nn) = -n(i_p(nn))
   30.         else
   31.            n_p(nn) = n(i_p(nn))
   32.         endif
   33.      enddo
   34.      !
   35.      ! Nonlinear coupling coefficient:
   36.      !
   37.      c_nl_i(:) = -rhos_norm*q_s(:)/(r_s(:)*b_unit_s(:))
ftn-6262 ftn: VECTOR GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 37 
  A loop starting at line 37 was not vectorized because it contains a call to a subroutine or function on line 37.

   38.      !
   39.      ! ... and add the nonuniform grid effect:
   40.      !
   41.      c_nl_i(:) = dr_eodr(:)*c_nl_i(:)
ftn-6262 ftn: VECTOR GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 41 
  A loop starting at line 41 was not vectorized because it contains a call to a subroutine or function on line 41.

   42.      !----------------------------------------------------
   43.    
   44.      !----------------------------------------------------
   45.      ! FFTW3 arrays and plans
   46.      !
   47.      n_max_d = (3*n_max)/2+1
   48.      n_fft   = 2*n_max_d+2
   49.      !
   50.      allocate( v_fft3(0:n_fft-1,n_x,6))
   51.      allocate(vt_fft3(0:n_fft-1,n_x,6))
   52.    
   53.      call dfftw_init_threads(ierr)
   54.    
   55.      call dfftw_plan_with_nthreads(n_omp)
   56.    
   57.      call dfftw_plan_many_r2r(plan_b, 1, n_fft, 6*n_x,   &
   58.                               v_fft3,  0, 1, n_fft,       &
   59.                               vt_fft3, 0, 1, n_fft,       &
   60.                               FFTW_HC2R, FFTW_MEASURE)
   61.    
   62.      call dfftw_plan_many_r2r(plan_f, 1, n_fft, 6*n_x,   &
   63.                               vt_fft3, 0, 1, n_fft,       &
   64.                               v_fft3,  0, 1, n_fft,       &
   65.                               FFTW_R2HC, FFTW_MEASURE)
   66.      !----------------------------------------------------
   67.    
   68.    end subroutine gyro_nl_setup
ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_DFT_R2HC" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_FIXED_RADIX_LARGE_N" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_INDIRECT_OP" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_NONTHREADED" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_RANK_SPLITS" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_SIMD" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_SLOW" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_VRANK_SPLITS" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_VRECURSE" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_ALLOW_LARGE_GENERIC" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_NO_BUFFERING" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_PATIENT" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_FORWARD" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_ALLOW_PRUNING" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_PRESERVE_INPUT" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_REDFT00" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_REDFT01" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_REDFT10" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_REDFT11" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_RODFT00" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_RODFT01" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_RODFT10" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_RODFT11" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_UNALIGNED" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_WISDOM_ONLY" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_BACKWARD" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_BELIEVE_PCOST" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_CONSERVE_MEMORY" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_DESTROY_INPUT" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_DHT" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_ESTIMATE" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_ESTIMATE_PATIENT" is not used.

ftn-5008 ftn: NOTE GYRO_NL_SETUP, File = gyro_nl_setup.f90, Line = 68 
  Named constant "FFTW_EXHAUSTIVE" is not used.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                         E x t e r n a l   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Name  Messages
----  --------
ABS(Intrinsic)
      Defined as:  No definitions.

      Interface:   None

      Called By:   GYRO_NL_SETUP (Line 99, file gyro_nl_setup.f90)

Name  Messages
----  --------
CHAR(Intrinsic)
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
DFFTW_INIT_THREADS
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
DFFTW_PLAN_MANY_R2R
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
DFFTW_PLAN_WITH_NTHREADS
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
GYRO_GLOBALS
      Defined as:  No definitions.

      Used By:     GYRO_NL_SETUP

Name  Messages
----  --------
GYRO_NL_PRIVATE
      Defined as:  No definitions.

      Used By:     GYRO_NL_SETUP

Name  Messages
----  --------
GYRO_NL_SETUP
      Defined as:  Subroutine (line 12, file gyro_nl_setup.f90)

      Interface:   None

      Calls:       ABS(Intrinsic) (Line 99, file gyro_nl_setup.f90)

        Uses:      GYRO_GLOBALS
                   GYRO_NL_PRIVATE
                   OMPDATA

Name  Messages
----  --------
OMPDATA
      Defined as:  No definitions.

      Used By:     GYRO_NL_SETUP


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
