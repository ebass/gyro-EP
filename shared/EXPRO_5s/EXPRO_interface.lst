%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S u m m a r y   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Compilation
-----------
File     : /global/u2/b/bassem/gyro-EP/shared/EXPRO/EXPRO_interface.f90
Compiled : 01/14/21  15:27:05
Compiler : Version 9.1.0
Ftnlx    : Version 9.1.0 
Target   : x86-64
Command  : ftn_driver.exe -hcpu=haswell -hdynamic -D__CRAYXC -D__CRAY_HASWELL
           -D__CRAYXT_COMPUTE_LINUX_TARGET -hnetwork=aries -hnoomp -em
           -J/global/homes/b/bassem/gyro-EP/modules -sreal64 -eD -Ktrap=fp -m1
           -c EXPRO_interface.f90
           -I/opt/cray/pe/cce/9.1.0/cce-clang/x86_64/lib/clang/9.0.0/include
           -I/opt/cray/pe/cce/9.1.0/cce/x86_64/include/craylibs -I/usr/include
           -I/usr/include -I/opt/cray/pe/fftw/3.3.8.4/haswell/include
           -I/opt/cray/pe/libsci/19.06.1/CRAY/9.0/x86_64/include
           -I/opt/cray/pe/mpt/7.7.10/gni/mpich-cray/9.0/include
           -I/opt/cray/pe/hdf5/1.10.5.2/cray/9.0/include
           -I/opt/cray/pe/netcdf/4.6.3.2/cray/9.0/include
           -I/opt/cray/rca/2.2.20-7.0.1.1_4.53__g8e3fb5b.ari/include
           -I/opt/cray/alps/6.6.58-7.0.1.1_6.10__g437d88db.ari/include
           -I/opt/cray/xpmem/2.2.20-7.0.1.1_4.14__g0475745.ari/include
           -I/opt/cray/gni-headers/5.0.12.0-7.0.1.1_6.32__g3b1768f.ari/include
           -I/opt/cray/dmapp/7.1.1-7.0.1.1_4.54__g38cf134.ari/include
           -I/opt/cray/pe/pmi/5.0.14/include
           -I/opt/cray/ugni/6.0.14.0-7.0.1.1_7.40__ge78e5b0.ari/include
           -I/opt/cray/udreg/2.3.2-7.0.1.1_3.38__g8175d3d.ari/include
           -I/opt/cray/wlm_detect/1.3.3-7.0.1.1_4.16__g7109084.ari/include
           -I/opt/cray/krca/2.2.6-7.0.1.1_5.39__gb641b12.ari/include
           -I/opt/cray-hss-devel/9.0.0/include
Program
  Units  : EXPRO_INTERFACE

ftnlx report
------------
Source   : /global/u2/b/bassem/gyro-EP/shared/EXPRO/EXPRO_interface.f90
Date     : 01/14/2021  15:27:05


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    1.    !------------------------------------------------
    2.    ! EXPRO_interface.f90
    3.    !
    4.    ! PURPOSE:
    5.    !  Interface to experimental profiles.
    6.    !
    7.    ! NOTES:
    8.    !  For more detailed variable definitions, see
    9.    !
   10.    !  http://fusion.gat.com/theory/input.profiles
   11.    !  
   12.    !  * Scalars:
   13.    !
   14.    !  EXPRO_ncol
   15.    !  EXPRO_nblock
   16.    !  EXPRO_n_exp
   17.    !  EXPRO_b_ref
   18.    !  EXPRO_arho
   19.    !
   20.    !  * Vectors:
   21.    !
   22.    !  EXPRO_rho(:)
   23.    !  EXPRO_rmin(:)
   24.    !  EXPRO_rmaj(:)
   25.    !  EXPRO_q(:)
   26.    !  EXPRO_kappa(:)
   27.    !
   28.    !  EXPRO_delta(:)
   29.    !  EXPRO_te(:)
   30.    !  EXPRO_ne(:)
   31.    !  EXPRO_z_eff(:)
   32.    !  EXPRO_w0(:)
   33.    !
   34.    !  EXPRO_flow_mom(:)
   35.    !  EXPRO_pow_e(:)
   36.    !  EXPRO_pow_i(:)
   37.    !  EXPRO_pow_ei(:)
   38.    !  EXPRO_zeta(:)
   39.    !
   40.    !  EXPRO_flow_beam(:)
   41.    !  EXPRO_flow_wall(:)
   42.    !  EXPRO_zmag(:)
   43.    !  EXPRO_ptot(:)
   44.    !  EXPRO_poloidalfluxover2pi(:)
   45.    !
   46.    !  EXPRO_ni(1,:)
   47.    !  EXPRO_ni(2,:)
   48.    !  EXPRO_ni(3,:)
   49.    !  EXPRO_ni(4,:)
   50.    !  EXPRO_ni(5,:)
   51.    !
   52.    !  EXPRO_ti(1,:)
   53.    !  EXPRO_ti(2,:)
   54.    !  EXPRO_ti(3,:)
   55.    !  EXPRO_ti(4,:)
   56.    !  EXPRO_ti(5,:)
   57.    !
   58.    !  EXPRO_vtor(1,:)
   59.    !  EXPRO_vtor(2,:)
   60.    !  EXPRO_vtor(3,:)
   61.    !  EXPRO_vtor(4,:)
   62.    !  EXPRO_vtor(5,:)
   63.    !
   64.    !  EXPRO_vpol(1,:)
   65.    !  EXPRO_vpol(2,:)
   66.    !  EXPRO_vpol(3,:)
   67.    !  EXPRO_vpol(4,:)
   68.    !  EXPRO_vpol(5,:)
   69.    !
   70.    !  * Control parameters (user can change these)
   71.    ! 
   72.    !  EXPRO_ctrl_density_method (1=do nothing, 2=force quasin.)
   73.    !  EXPRO_ctrl_z(1:5) (ion charges)
   74.    !  EXPRO_ctrl_numeq_flag (0=model,1=numerical)
   75.    !  EXPRO_ctrl_signq 
   76.    !  EXPRO_ctrl_signb
   77.    !  EXPRO_ctrl_rotation_method (1=candy-phi,2=waltz-U_parallel)
   78.    !!  EXPRO_ctrl_alpha_profiles_flag (0=default,1=use profiles from Alpha module) [deprecated]
   79.    !
   80.    !  * Derived quantities:
   81.    !
   82.    !  EXPRO_bunit(:)       B_unit (T)
   83.    !  EXPRO_s(:)           (r/q)(dq/dr)
   84.    !  EXPRO_drmaj(:)       dR_0/dr
   85.    !  EXPRO_dzmag(:)       dZ_0/dr
   86.    !  EXPRO_sdelta(:)      r d(delta)/dr
   87.    !  EXPRO_skappa(:)      (r/kappa) d(kappa)/dr
   88.    !  EXPRO_szeta(:)       r d(zeta)/dr
   89.    !  EXPRO_dlnnedr(:)     -dln(ne)/dr (1/m)
   90.    !  EXPRO_dlntedr(:)     -dln(Te)/dr (1/m)
   91.    !  EXPRO_dlnnidr(1:5,:) -dln(ni)/dr (1/m)
   92.    !  EXPRO_dlntidr(1:5,:) -dln(ti)/dr (1/m)
   93.    !  EXPR0_dlnptotdr(:)   -dln(ptot)/dr (1/m)
   94.    !  EXPRO_w0(:)          w0 (1/s)
   95.    !  EXPRO_w0p(:)         d(w0)/dr (1/s/m)
   96.    !  EXPRO_vol(:)         V (m^3)
   97.    !  EXPRO_volp(:)        dV/dr (m^2)
   98.    !  EXPRO_cs(:)          cs (m/s)
   99.    !  EXPRO_rhos(:)        rhos (m)
  100.    !  EXPRO_ni_new(:)      ni [Corrected for quasin.]
  101.    !  EXPRO_dlnnidr_new(:) -dln(ni)/dr (1/m) [Corrected for quasin.] 
  102.    !  EXPRO_grad_r0(:)     |grad r| at theta=0 
  103.    !  EXPRO_ave_grad_r(:)  Flux-surface average <|grad r|> 
  104.    !  EXPRO_drdrho(:)      dr/d(rho) [r and rho have units of length]
  105.    !  EXPRO_bp0(:)         B_pol at theta=0 (T)
  106.    !  EXPRO_bt0(:)         B_tor at theta=0 (T)
  107.    !  EXPRO_gamma_e(:)     r/q d(w0)/dr (1/s)
  108.    !  EXPRO_gamma_p(:)     R_0 d(w0)/dr (1/s)
  109.    !  EXPRO_mach(:)        R_0 w0/cs
  110.    !
  111.    !  * General geometry arrays:
  112.    !
  113.    !  EXPRO_geo(:,:,:)
  114.    !  EXPRO_dgeo(:,:,:)
  115.    !------------------------------------------------ 
  116.    
  117.    module EXPRO_interface
  118.    
  119.      integer :: EXPRO_error=0
  120.      integer, parameter :: nion_max=5
  121.    
  122.      ! Fundamental input.profiles scalars
  123.    
  124.      integer :: EXPRO_ncol
  125.      integer :: EXPRO_nblock
  126.      integer :: EXPRO_n_exp=0
  127.      real    :: EXPRO_b_ref
  128.      real    :: EXPRO_arho
  129.    
  130.      ! Fundamental input.profiles arrays
  131.    
  132.      real, dimension(:),allocatable :: EXPRO_rho
  133.      real, dimension(:),allocatable :: EXPRO_rmin
  134.      real, dimension(:),allocatable :: EXPRO_rmaj
  135.      real, dimension(:),allocatable :: EXPRO_q
  136.      real, dimension(:),allocatable :: EXPRO_kappa
  137.    
  138.      real, dimension(:),allocatable :: EXPRO_delta
  139.      real, dimension(:),allocatable :: EXPRO_te
  140.      real, dimension(:),allocatable :: EXPRO_ne
  141.      real, dimension(:),allocatable :: EXPRO_z_eff
  142.      real, dimension(:),allocatable :: EXPRO_w0
  143.    
  144.      real, dimension(:),allocatable :: EXPRO_flow_mom
  145.      real, dimension(:),allocatable :: EXPRO_pow_e
  146.      real, dimension(:),allocatable :: EXPRO_pow_i
  147.      real, dimension(:),allocatable :: EXPRO_pow_ei
  148.      real, dimension(:),allocatable :: EXPRO_zeta
  149.    
  150.      real, dimension(:),allocatable :: EXPRO_flow_beam
  151.      real, dimension(:),allocatable :: EXPRO_flow_wall
  152.      real, dimension(:),allocatable :: EXPRO_zmag
  153.      real, dimension(:),allocatable :: EXPRO_ptot
  154.      real, dimension(:),allocatable :: EXPRO_poloidalfluxover2pi
  155.    
  156.      real, dimension(:,:),allocatable :: EXPRO_ni
  157.      real, dimension(:,:),allocatable :: EXPRO_ti
  158.      real, dimension(:,:),allocatable :: EXPRO_vtor
  159.      real, dimension(:,:),allocatable :: EXPRO_vpol
  160.    
  161.      real, dimension(:,:),allocatable :: EXPRO_energy_c
  162.    
  163.      ! Derived quantities
  164.    
  165.      real, dimension(:),allocatable :: EXPRO_bunit
  166.      real, dimension(:),allocatable :: EXPRO_s
  167.      real, dimension(:),allocatable :: EXPRO_drmaj
  168.      real, dimension(:),allocatable :: EXPRO_dzmag
  169.      real, dimension(:),allocatable :: EXPRO_sdelta
  170.      real, dimension(:),allocatable :: EXPRO_skappa
  171.      real, dimension(:),allocatable :: EXPRO_szeta
  172.      real, dimension(:),allocatable :: EXPRO_dlnnedr
  173.      real, dimension(:),allocatable :: EXPRO_dlntedr
  174.      real, dimension(:,:),allocatable :: EXPRO_dlnnidr
  175.      real, dimension(:,:),allocatable :: EXPRO_dlntidr
  176.      real, dimension(:),allocatable :: EXPRO_dlnptotdr
  177.    
  178.      real, dimension(:),allocatable :: EXPRO_w0p
  179.    
  180.      real, dimension(:),allocatable :: EXPRO_vol
  181.      real, dimension(:),allocatable :: EXPRO_volp
  182.    
  183.      real, dimension(:),allocatable :: EXPRO_cs
  184.      real, dimension(:),allocatable :: EXPRO_rhos
  185.    
  186.      real, dimension(:),allocatable :: EXPRO_ni_new
  187.      real, dimension(:),allocatable :: EXPRO_dlnnidr_new
  188.      real, dimension(:),allocatable :: EXPRO_grad_r0
  189.      real, dimension(:),allocatable :: EXPRO_ave_grad_r
  190.      real, dimension(:),allocatable :: EXPRO_drdrho
  191.    
  192.      real, dimension(:),allocatable :: EXPRO_bp0
  193.      real, dimension(:),allocatable :: EXPRO_bt0
  194.    
  195.      ! input.profiles.geo dimension and arrays
  196.    
  197.      integer :: EXPRO_nfourier
  198.      real, dimension(:,:,:),allocatable :: EXPRO_geo
  199.      real, dimension(:,:,:),allocatable :: EXPRO_dgeo
  200.    
  201.      ! Gyrokinetic rotation parameters
  202.    
  203.      real, dimension(:),allocatable :: EXPRO_gamma_e
  204.      real, dimension(:),allocatable :: EXPRO_gamma_p
  205.      real, dimension(:),allocatable :: EXPRO_mach
  206.    
  207.      ! Control parameters (force nonsensical defaults for usage check)
  208.    
  209.      integer :: EXPRO_ctrl_density_method = -1
  210.      real, dimension(5) :: EXPRO_ctrl_z
  211.      real, dimension(5) :: EXPRO_ctrl_nscal
  212.      real, dimension(5) :: EXPRO_ctrl_tscal
  213.      integer :: EXPRO_ctrl_numeq_flag=-1
  214.      real :: EXPRO_ctrl_signb = -10.0
  215.      real :: EXPRO_ctrl_signq = -10.0
  216.      integer :: EXPRO_ctrl_rotation_method = -1
  217.      integer :: EXPRO_ctrl_silent_flag = 0
  218.    !  integer :: EXPRO_ctrl_alpha_profiles_flag = 0
  219.    
  220.      ! Standard variable tags
  221.    
  222.      character (len=16), dimension(40) :: EXPRO_tag=(/&
  223.           'rho(-)          ',&
  224.           'rmin(m)         ',&
  225.           'rmaj(m)         ',&
  226.           'q(-)            ',&
  227.           'kappa(-)        ',&
  228.           'delta(-)        ',&
  229.           'Te(keV)         ',&
  230.           'ne(10^19/m^3)   ',&
  231.           'z_eff(-)        ',&
  232.           'omega0(rad/s)   ',&
  233.           'flow_mom(N-m)   ',&
  234.           'pow_e(MW)       ',&
  235.           'pow_i(MW)       ',&
  236.           'pow_ei(MW)      ',&
  237.           'zeta(-)         ',&
  238.           'flow_beam(kW/eV)',&
  239.           'flow_wall(kW/eV)',&
  240.           'zmag(m)         ',&
  241.           'ptot(Pa)        ',&
  242.           'polflux(Wb/rad) ',&
  243.           'ni_1(10^19/m^3) ',&
  244.           'ni_2(10^19/m^3) ',&
  245.           'ni_3(10^19/m^3) ',&
  246.           'ni_4(10^19/m^3) ',&
  247.           'ni_5(10^19/m^3) ',&
  248.           'Ti_1 (keV)      ',&
  249.           'Ti_2 (keV)      ',&
  250.           'Ti_3 (keV)      ',&
  251.           'Ti_4 (keV)      ',&
  252.           'Ti_5 (keV)      ',&
  253.           'vtor_1 (m/s)    ',&
  254.           'vtor_2 (m/s)    ',&
  255.           'vtor_3 (m/s)    ',&
  256.           'vtor_4 (m/s)    ',&
  257.           'vtor_5 (m/s)    ',&
  258.           'vpol_1 (m/s)    ',&
  259.           'vpol_2 (m/s)    ',&
  260.           'vpol_3 (m/s)    ',&
  261.           'vpol_4 (m/s)    ',&
  262.           'vpol_5 (m/s)    '/)
  263.    
  264.      ! Transport power tags (currently unused)
  265.    
  266.      character (len=16), dimension(15) :: EXPRO_tag2=(/&
  267.           'powe_beam(MW)   ',& 
  268.           'powe_RF(MW)     ',& 
  269.           'powe_oh_RF(MW)  ',& 
  270.           'powe_rad_RF(MW) ',& 
  271.           'powe_ion(MW)    ',& 
  272.           'powe_wdot(MW)   ',& 
  273.           'powe_fus(MW)    ',& 
  274.           '[tr-pow_e]      ',& 
  275.           '[ex-pow_ei_exp] ',&  
  276.           '[tr-pow_i]      ',& 
  277.           'powi_beam(MW)   ',& 
  278.           'powi_ion(MW)    ',& 
  279.           'powi_wdot(MW)   ',& 
  280.           'powi_fus(MW)    ',& 
  281.           'powi_cx(MW)     '/)
  282.    
  283.    end module EXPRO_interface


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                         E x t e r n a l   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Name  Messages
----  --------
EXPRO_INTERFACE
      Defined as:  Module (line 117, file EXPRO_interface.f90)

                   Does not use any module and is not used by any procedure.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
